import { TelegramSchema } from '@/app/dashboard/telegram/schema'

export function formatTelegramPrompt({ description, style, emoji, hashtag }: TelegramSchema) {
  const parts = [
    `Ты — автор постов для Telegram.`,
    `Создай ОДИН короткий пост (до 1000 символов) на тему: "${description}".`,
    `Стиль текста: "${style}".`,
    emoji ? 'Добавь уместные эмодзи без перебора.' : '',
    hashtag ? 'В конце добавь 2–3 тематических хэштега.' : '',
    'Не вставляй ссылки, источники, даты или сноски.',
    'Не используй форматирование, Markdown и HTML.',
    'Не делай абзацы — текст должен быть в одном блоке.',
    'Ориентируйся на естественный стиль для соцсетей.',
    'СТРОГО запрещено: предлагать другие варианты тем, монеты, валюты, курсы, списки, советы, обучающие материалы, ссылки, рекламу или пояснения.',
    'Отвечай только готовым текстом поста без комментариев и пояснений.',
  ]

  return parts.filter(Boolean).join(' ')
}
